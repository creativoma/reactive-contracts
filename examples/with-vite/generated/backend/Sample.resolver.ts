/**
 * Auto-generated resolver template for Sample contract
 * Generated by @reactive-contracts/compiler
 *
 * Intent: Demonstrate basic contract structure
 */

import { implementContract } from '@reactive-contracts/server';
import type { Contract } from '@reactive-contracts/core';
import type { ResolverContext } from '@reactive-contracts/server';

export interface SampleResolverShape {
  data: {
    id: string;
    name: string;
    createdAt: Date;
  };
  metadata: {
    count: number;
    status: any;
  };
}

/**
 * Implement the Sample contract resolver
 *
 * This function should return data matching the contract shape.
 * Derived fields will be computed automatically - don't include them.
 */
export const SampleResolver = implementContract(
  // Import your contract definition here
  {} as Contract, // Replace with your contract
  {
    async resolve(_params: Record<string, unknown>, _context: ResolverContext): Promise<SampleResolverShape> {
      // TODO: Implement your data fetching logic here

      // Example:
      // const data = await db.query(...);
      // return {
      //   // Map your data to match the contract shape
      // };

      throw new Error('SampleResolver not implemented yet');
    },

    // Optional: Configure caching
    cache: {
      ttl: '5m',
      staleWhileRevalidate: '1h',
      tags: (params) => [`sample:${params.id}`],
    },
  }
);
